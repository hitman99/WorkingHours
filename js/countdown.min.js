/*
 * Author: Hitman_99
 * admin@hitman.lt
 * Licence GPL v3
 */
!function(){function d(a){return"undefined"!=typeof Storage?JSON.parse(localStorage.getItem(a)):null}function e(a,b){return"undefined"!=typeof Storage?(localStorage.setItem(a,JSON.stringify(b)),!0):!1}function f(a){var b=/^([01]{1}[0-9]{1}|2[0-3]{1})\:[0-5]{1}[0-9]{1}\:[0-5]{1}[0-9]{1}$/;return b.test(a)?!0:!1}function h(){var a=new Date,b=dateInTheFuture.getTime()-a.getTime();if(delete a,0>b){i(),l();var b=dateInTheFuture.getTime()-a.getTime()}var c=0,d=0,e=0,b=Math.floor(b/1e3);c=Math.floor(b/3600),b%=3600,parseInt(c)<10&&(c="0"+c),d=Math.floor(b/60),b%=60,parseInt(d)<10&&(d="0"+d),e=Math.floor(b),parseInt(e)<10&&(e="0"+e),$("#hrs").text(c),$("#mins").text(d),$("#secs").text(e)}function i(){dateInTheFuture=new Date;var a=new Date,b=d("opening-hours").split(":"),e=d("closing-hours").split(":");dateInTheFuture.setHours(parseInt(b[0]),parseInt(b[1]),parseInt(b[2]),0),dateInTheFuture.getTime()-a.getTime()<0?(dateInTheFuture.setHours(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),0),parseInt(b[0])>parseInt(e[0])?dateInTheFuture.setDate(dateInTheFuture.getDate()+1):parseInt(b[0])==parseInt(e[0])&&parseInt(b[1])>parseInt(e[1])?dateInTheFuture.setDate(dateInTheFuture.getDate()+1):parseInt(b[0])==parseInt(e[0])&&parseInt(b[1])==parseInt(e[1])&&parseInt(b[2])>parseInt(e[2])&&dateInTheFuture.setDate(dateInTheFuture.getDate()+1),dateInTheFuture.getTime()-a.getTime()<0?(dateInTheFuture.setHours(parseInt(b[0]),parseInt(b[1]),parseInt(b[2]),0),dateInTheFuture.setDate(dateInTheFuture.getDate()+1),c="time_after_cob_message"):c="time_before_cob_message"):c="time_after_cob_message";var f=0==dateInTheFuture.getDay()?7:dateInTheFuture.getDay();f>=5&&dateInTheFuture.setDate(dateInTheFuture.getDate()+(7-f)),$("#header").text(k(c))}function j(){clearInterval(m),i(),h(),m=setInterval(function(){h()},1e3)}function k(b){return a[n][b]}function l(){$(".hours-text").text(k("hours")),$(".minutes-text").text(k("minutes")),$(".seconds-text").text(k("seconds")),$("#header").text(k(c)),$(".settings-button").text(k("change_hours")),$(".save-settings-button").text(k("save")),$("#settings").find(".field:first > label").text(k("opening_hours_text")),$("#settings").find(".field:last > label").text(k("closing_hours_text"))}var a={en:{time_before_cob_message:"Time before close of business",time_after_cob_message:"Time before work starts",hours:"hours",minutes:"minutes",seconds:"seconds",save:"Save",change_hours:"Change hours",opening_hours_text:"Opening hours",closing_hours_text:"Closing hours"},lt:{time_before_cob_message:"Laikas iki darbo pabaigos",time_after_cob_message:"Laikas iki darbo prad\u017eios",hours:"valand\u0173",minutes:"minu\u010di\u0173",seconds:"sekund\u017ei\u0173",change_hours:"Pakeisti valandas",opening_hours_text:"Darbo prad\u017eia",closing_hours_text:"Darbo pabaiga",save:"I\u0161saugoti"}},c=a.lt.time_before_cob_message,g=function(){var a=!0;f($("#opening-hours").val())?(e("opening-hours",$("#opening-hours").val()),$(".two.fields > .field:first").removeClass("error")):(a=!1,$(".two.fields > .field:first").addClass("error")),f($("#closing-hours").val())?(e("closing-hours",$("#closing-hours").val()),$(".two.fields > .field:last").removeClass("error")):(a=!1,$(".two.fields > .field:last").addClass("error")),$("#opening-hours").val()==$("#closing-hours").val()&&(a=!1,$(".two.fields > .field").addClass("error")),a&&($("#settings").hide(),j(),$("#timer").show(),$(".settings-button").show())},m=null,n=d("language");null===n&&(e("language","lt"),n="lt"),$(".ui.dropdown").dropdown({onChange:function(a){e("language",a),n=a,l()}}),null===d("opening-hours")||null===d("closing-hours")?($(".settings-button").hide(),$("#settings").show(),$(".save-settings-button").unbind("click").click(g)):(j(),$("#timer").show(),$(".settings-button").show()),$(".settings-button").click(function(){$("#opening-hours").val(d("opening-hours")),$("#closing-hours").val(d("closing-hours")),$(".settings-button").hide(),$("#timer").hide(),$("#settings").show(),$(".save-settings-button").unbind("click").click(g)}),l()}();